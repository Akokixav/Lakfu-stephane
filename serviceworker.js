const CACHE="Lakfu-page",offlineFallbackPage="ToDo-replace-this-name.html";self.addEventListener("install",function(e){console.log("Lakfu Install Event processing"),e.waitUntil(caches.open(CACHE).then(function(e){return console.log("Lakfu Cached offline page during install"),e.add(new Response("TODO: Update the value of the offlineFallbackPage constant in the serviceworker."))}))}),self.addEventListener("fetch",function(e){"GET"===e.request.method&&e.respondWith(fetch(e.request).catch(function(n){if("document"===e.request.destination&&"navigate"===e.request.mode)return console.error("Lakfu Network request Failed. Serving offline page "+n),caches.open(CACHE).then(function(e){return e.match(offlineFallbackPage)})}))}),self.addEventListener("refreshOffline",function(){const e=new Request(offlineFallbackPage);return fetch(offlineFallbackPage).then(function(n){return caches.open(CACHE).then(function(t){return console.log("Lakfu Offline page updated from refreshOffline event: "+n.url),t.put(e,n)})})});